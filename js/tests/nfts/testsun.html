<html>
  <head>
    <title>Sun NFT</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r69/three.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>
      var renderer, scene, camera, mesh;

      function initaite() {
        var canvas = document.getElementById("canvas");
        var width = $("#canvas").width();
        var height = $("#canvas").height();
        renderer = new THREE.WebGLRenderer({
          canvas: canvas,
        });
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
        camera.position.set(0, 0, 150);
        var geometry = new THREE.SphereGeometry(75, 32, 32);
        var material = new THREE.MeshBasicMaterial({
          color: 0xfef001,
          wireframe: true,
        });
        mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);
        var light = new THREE.SpotLight(0xff0000);
        light.position.set(50, 50, 200);
        scene.add(light);

        canvas.addEventListener("mousemove", move);
      }

      function move(e) {
        mesh.rotation.x = e.pageY * 0.01;
        mesh.rotation.y = e.pageX * 0.01;

        renderer.render(scene, camera);
      }
      $(document).ready(function () {
        initaite();
        document.querySelector("#sec").appendChild(canvasElement);
      });

      const canvasElement = document.createElement("CANVAS");
      context = canvasElement.getContext("2d", { willReadFrequently: true });
      const W = 500;
      canvasElement.height = 10;
      canvasElement.width = W;
      // Gradient
      const gradient = context.createLinearGradient(0, 0, W, 0); // x0, y0, x1, y1
      const colors = [
        "#FFF57B",
        "#FEF001",
        "#FFBF27",
        "#FF8866",
        "#F2541B",
        "#C91853",
        "#A8186E",
        "#6A0487",
        "#301D7D",
        "#160A47",
      ];
      const step = 1 / (colors.length - 1);
      colors.forEach((color, idx) => {
        gradient.addColorStop(idx * step, color);
      });

      // Fill with gradient
      context.fillStyle = gradient;
      context.fillRect(0, 0, W, 10); // x, y, width, height
      let percent = 0;
      let dir = 1;
      setInterval(() => {
        percent += dir;
        if (percent === W) dir = -1;
        else if (percent === 0) dir = 1;
        const color = context.getImageData(percent, 0, W, 1); // x, y, width, height
        const rgba = color.data;

        const colorText = `rgb(${rgba[0]}, ${rgba[1]}, ${rgba[2]})`;

        mesh.material.color.set(colorText);
        mesh.material.needsUpdate = true;
        renderer.render(scene, camera);
      }, 20);
    </script>
  </head>

  <body style="background-color: black">
    <section id="sec">
      <center>
        <canvas id="canvas" width="1000" height="500"></canvas>
      </center>
    </section>
  </body>
</html>
